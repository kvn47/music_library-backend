(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0b2af7"],{"24ba":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-header",[r("q-toolbar",[r("q-btn",{attrs:{to:"/",icon:"fas fa-columns",flat:""}}),r("q-btn",{attrs:{to:{name:"library"},icon:"fas fa-music",flat:""}}),r("q-btn",{attrs:{to:{name:"notes"},icon:"fas fa-sticky-note",flat:""}}),r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fas fa-ellipsis-v"}},[r("q-menu",{attrs:{"auto-close":""}},[r("q-list",[r("q-item",{attrs:{to:{name:"tracklists"}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"fas fa-list-alt"}})],1),r("q-item-section",[t._v("Tracklists")])],1),r("q-item",{attrs:{to:{name:"export_lists"}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"fas fa-clipboard-list"}})],1),r("q-item-section",[t._v("Export Lists")])],1),r("q-item",{attrs:{to:{name:"import"}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"fas fa-download"}})],1),r("q-item-section",[t._v("Import")])],1),r("q-separator"),r("q-item",{attrs:{to:{name:"settings"}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"fas fa-cogs"}})],1),r("q-item-section",[t._v("Settings")])],1),r("q-separator"),r("q-item",{attrs:{to:{name:"organizer"}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"fas fa-align-justify"}})],1),r("q-item-section",[t._v("Organizer")])],1)],1)],1)],1),r("q-toolbar-title",[r("span",{staticClass:"text-h6 capitalize"},[t._v(t._s(t.title))])])],1)],1),r("q-drawer",{attrs:{side:"right","content-class":"bg-grey-2",overlay:""},model:{value:t.is_drawer_open,callback:function(e){t.is_drawer_open=e},expression:"is_drawer_open"}},[r("current-export-list")],1),r("q-page-container",[r("router-view")],1),r("q-footer",[r("q-toolbar",[r("q-btn",{attrs:{flat:"",icon:"fas fa-caret-up"}},[r("q-menu",[r("q-list",[r("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],nativeOn:{click:function(e){return t.unset_export_list(e)}}},[t._v("-")]),t._l(t.export_lists,function(e){return r("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.id,nativeOn:{click:function(r){return t.select_export_list(e)}}},[r("q-item-label",{attrs:{header:""}},[t._v(t._s(e.name))]),r("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.size+" / "+e.capacity))])],1)})],2)],1)],1),t.current_export_list.name?[r("q-toolbar-title",[r("span",[t._v(t._s(t.current_export_list.name))]),r("q-linear-progress",{attrs:{percentage:t.current_export_list.fullness}})],1),r("q-btn",{attrs:{icon:"fas fa-bars",flat:""},on:{click:t.toggle_export_list}})]:t._e()],2)],1)],1)},i=[],n=(r("7f7f"),r("02fa")),a=r.n(n),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-list",{attrs:{"inset-delimiter":""}},t._l(t.export_lists,function(e){return r("q-item",{key:e.id,nativeOn:{click:function(r){return t.select_export_list(e)}}},[r("q-item-label",[t._v(t._s(e.name))])],1)}),1)},l=[],c=r("2f62"),_={name:"ExportLists",data:function(){return{}},computed:Object(c["e"])({export_lists:function(t){return t.export_lists.export_lists},current_export_list:function(t){return t.export_lists.current}}),methods:a()({},Object(c["b"])(["fetch_export_list","remove_track_from_export_list","clear_export_list","export_tracks"]),Object(c["d"])(["set_current_export_list","reset_current_export_list"]),{select_export_list:function(t){var e=this;this.fetch_export_list(t.id).then(function(t){return e.set_current_export_list(t)})},close_export_list:function(){this.reset_current_export_list()},remove_track:function(t){this.remove_track_from_export_list(t.id)}})},p=_,u=r("2877"),f=Object(u["a"])(p,o,l,!1,null,null,null),m=f.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-card",{attrs:{flat:""}},[r("q-card-section",[r("q-card-section",[t._v("\n      "+t._s(t.export_list.name)+"\n      "),r("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v(t._s(t.export_list.destination_path))]),r("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.export_list.capacity))])]),r("dl",{staticClass:"horizontal"},[r("dt",[t._v("Size")]),r("dd",[t._v(t._s(t.export_list.size))])])],1),r("q-card-actions",{attrs:{align:"around"}},[r("q-btn",{attrs:{icon:"fas fa-trash",label:"Clear",color:"negative",outline:""},on:{click:t.clear_export_list}}),r("q-btn",{attrs:{icon:"fas fa-upload",label:"Export",color:"primary",loading:t.is_exporting},on:{click:t.perform_export}},[r("span",{attrs:{slot:"loading"},slot:"loading"},[r("q-spinner"),t._v("\n        Exporting...\n      ")],1)])],1),r("q-separator"),r("q-list",t._l(t.export_list.tracks,function(e){return r("q-item",{key:e.id},[r("q-item-label",[r("q-item-label",{attrs:{header:""}},[t._v(t._s(e.title))]),r("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.artist_name))])],1),r("q-item-section",{attrs:{side:"",right:""}},[r("q-btn",{attrs:{icon:"fas fa-minus",color:"negative",flat:"",dense:""},on:{click:function(r){return t.remove_track(e)}}}),r("q-item-label",{attrs:{stamp:""}},[t._v(t._s(e.size))])],1)],1)}),1)],1)},q=[],d=r("967e"),v=r.n(d),b=(r("96cf"),r("fa84")),h=r.n(b),g={name:"CurrentExportList",data:function(){return{is_exporting:!1}},computed:Object(c["e"])({export_list:function(t){return t.export_lists.current}}),methods:a()({},Object(c["b"])(["remove_track_from_export_list","clear_export_list","export_tracks"]),{perform_export:function(){var t=h()(v.a.mark(function t(){return v.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.is_exporting=!0,t.next=3,this.export_tracks();case 3:this.is_exporting=!1;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()})},k=g,w=Object(u["a"])(k,x,q,!1,null,null,null),y=w.exports,O={name:"LibraryLayout",components:{ExportLists:m,CurrentExportList:y},data:function(){return{is_drawer_open:this.$q.platform.is.desktop}},computed:a()({},Object(c["e"])({export_lists:function(t){return t.export_lists.export_lists},current_export_list:function(t){return t.export_lists.current}}),{title:function(){return this.$route.name}}),methods:a()({},Object(c["b"])(["fetch_export_list"]),Object(c["d"])(["set_current_export_list","reset_current_export_list"]),{select_export_list:function(t){var e=this;this.fetch_export_list(t.id).then(function(t){return e.set_current_export_list(t)})},toggle_export_list:function(){this.is_drawer_open=!this.is_drawer_open},unset_export_list:function(){this.reset_current_export_list(),this.is_drawer_open=!1}})},j=O,E=Object(u["a"])(j,s,i,!1,null,null,null);e["default"]=E.exports}}]);