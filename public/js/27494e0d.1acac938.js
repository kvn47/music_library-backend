(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["27494e0d"],{"4cdc":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("q-card",{attrs:{flat:"",square:""}},[i("div",{staticClass:"row justify-center static"},[t.cover_url?i("q-img",{staticStyle:{"max-width":"256px"},attrs:{src:t.cover_url}}):t._e()],1),i("q-card-section",[i("div",{staticClass:"text-h6 cursor-pointer"},[t._v("\n        "+t._s(t.title)+"\n        "),i("q-popup-edit",{attrs:{buttons:""},on:{save:function(e){return t.update("title",t.title)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}},[i("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),i("div",{staticClass:"text-subtitle1"},[i("q-btn",{attrs:{to:{name:"artist",params:{id:t.artist_id}},label:t.artist_name,flat:"",dense:"","no-caps":""}})],1)]),i("q-card-section",[i("q-btn",{attrs:{href:"https://musicbrainz.org/work/"+t.mb_id,label:"MusicBrainz","icon-right":"fas fa-external-link-alt",type:"a",target:"_blank",color:"grey-8",size:"sm","no-caps":"",dense:"",flat:""}}),i("q-btn",{staticClass:"on-right",attrs:{icon:"fas fa-edit",size:"sm",color:"grey-7",flat:"",dense:""}},[i("q-popup-edit",{attrs:{buttons:""},on:{save:function(e){return t.update("mb_id",t.mb_id)}},model:{value:t.mb_id,callback:function(e){t.mb_id=e},expression:"mb_id"}},[i("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.mb_id,callback:function(e){t.mb_id=e},expression:"mb_id"}})],1)],1)],1),i("q-card-actions",{attrs:{align:"around"}},[i("q-btn",{attrs:{label:"Export selected",flat:""}})],1),i("q-separator"),i("q-list",{attrs:{separator:""}},t._l(t.tracks,function(e,r){return i("q-item",{key:e.id,attrs:{active:t.selected_tracks.has(r),"active-class":"bg-teal-1",clickable:""},nativeOn:{click:function(e){return t.select_track(r)}}},[i("q-item-section",{attrs:{side:""}},[t._v(t._s(e.number))]),i("q-item-section",[i("q-item-label",{staticClass:"text-black"},[t._v(t._s(e.title))]),i("q-item-label",{staticClass:"text-grey-7",attrs:{overline:""}},[t._v("length: "+t._s(e.length)+", size: "+t._s(e.size))])],1),i("q-item-section",{attrs:{side:"",right:""}},[i("library-item-actions",{attrs:{item:e},on:{add_item_to_current_export_list:t.add_track_to_current_export_list,add_item_to_tracklist:t.add_track_to_tracklist}})],1)],1)}),1)],1)],1)},n=[],s=(i("8e6e"),i("8a81"),i("456d"),i("c47a")),a=i.n(s),o=(i("ac6a"),i("cadf"),i("06db"),i("5df3"),i("4f7f"),i("5adf")),c=i("2f62"),l=i("2a19");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(i,!0).forEach(function(e){a()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var d={name:"AlbumPage",components:{LibraryItemActions:o["a"]},props:["id"],data:function(){return{title:null,cover_url:null,mb_id:null,artist_id:null,artist_name:null,tracks:[],selected_tracks:new Set}},created:function(){var t=this;this.$api.query("albums/".concat(this.id)).then(function(e){t.title=e.title,t.cover_url=e.cover_url,t.mb_id=e.mb_id,t.artist_id=e.artist_id,t.artist_name=e.artist_name,t.tracks=e.tracks})},methods:_({},Object(c["b"])(["add_tracks_to_export_list","add_tracks_to_tracklist"]),{update:function(t,e){var i=Object.fromEntries([[t,e]]);this.$api.update("albums",this.id,i)},select_track:function(t){this.selected_tracks.has(t)?this.selected_tracks.delete(t):this.selected_tracks.add(t)},add_to_current_export_list:function(t){this.current_export_list.id?this.add_tracks_to_export_list(t):l["a"].create({message:"Export List not selected!",type:"warning",timeout:3e3})},add_track_to_current_export_list:function(t){this.add_to_current_export_list({track_id:t.id})},add_track_to_tracklist:function(t,e){this.add_tracks_to_tracklist({tracklist_id:e.id,track_id:t.id})}})},p=d,f=i("2877"),m=Object(f["a"])(p,r,n,!1,null,null,null);e["default"]=m.exports},"4f7f":function(t,e,i){"use strict";var r=i("c26b"),n=i("b39a"),s="Set";t.exports=i("e0b8")(s,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(n(this,s),t=0===t?0:t,t)}},r)},"5adf":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("q-btn",{attrs:{icon:"fas fa-ellipsis-v",flat:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showing_menu=!t.showing_menu}}}),i("span",[i("q-menu",{model:{value:t.showing_menu,callback:function(e){t.showing_menu=e},expression:"showing_menu"}},[i("q-list",{attrs:{separator:""}},[i("q-item",{attrs:{clickable:""},nativeOn:{click:function(e){return t.show_tracklists(e)}}},[t._v("Add to tracklist >")]),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},nativeOn:{click:function(e){return t.add_item_to_current_export_list(e)}}},[t._v("Add to current export list")]),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},nativeOn:{click:function(e){return t.show_export_lists(e)}}},[t._v("Add to export list >")])],1)],1),i("q-menu",{model:{value:t.choosing_tracklist,callback:function(e){t.choosing_tracklist=e},expression:"choosing_tracklist"}},[i("q-list",{attrs:{separator:""}},t._l(t.tracklists,function(e){return i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.id,attrs:{clickable:""},nativeOn:{click:function(i){return t.add_item_to_tracklist(e)}}},[i("q-item-section",{attrs:{"no-wrap":""}},[t._v(t._s(e.name))])],1)}),1)],1),i("q-menu",{model:{value:t.choosing_export_list,callback:function(e){t.choosing_export_list=e},expression:"choosing_export_list"}},[i("q-list",{attrs:{separator:""}},t._l(t.export_lists,function(e){return i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.id,attrs:{clickable:""},nativeOn:{click:function(i){return t.add_item_to_export_list(e)}}},[i("q-item-section",{attrs:{"no-wrap":""}},[t._v(t._s(e.name))])],1)}),1)],1)],1)],1)},n=[],s=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c47a")),a=i.n(s),o=i("2f62");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){a()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var u={name:"LibraryItemActions",props:["item"],data:function(){return{showing_menu:!1,choosing_tracklist:!1,choosing_export_list:!1}},computed:l({},Object(o["e"])({tracklists:function(t){return t.tracklists.tracklists},export_lists:function(t){return t.export_lists.export_lists}})),methods:{add_item_to_current_export_list:function(){this.$emit("add_item_to_current_export_list",this.item)},add_item_to_tracklist:function(t){this.$emit("add_item_to_tracklist",this.item,t),this.choosing_tracklist=!1},add_item_to_export_list:function(t){this.$emit("add_item_to_export_list",this.item,t),this.choosing_export_list=!1},show_tracklists:function(){this.choosing_tracklist=!0,this.showing_menu=!1},show_export_lists:function(){this.choosing_export_list=!0,this.showing_menu=!1}}},_=u,d=i("2877"),p=Object(d["a"])(_,r,n,!1,null,"45951cfa",null);e["a"]=p.exports},b39a:function(t,e,i){var r=i("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,i){"use strict";var r=i("86cc").f,n=i("2aeb"),s=i("dcbc"),a=i("9b43"),o=i("f605"),c=i("4a59"),l=i("01f9"),u=i("d53b"),_=i("7a56"),d=i("9e1e"),p=i("67ab").fastKey,f=i("b39a"),m=d?"_s":"size",h=function(t,e){var i,r=p(e);if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,l){var u=t(function(t,r){o(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&c(r,i,t[l],t)});return s(u.prototype,{clear:function(){for(var t=f(this,e),i=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete i[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=f(this,e),r=h(i,t);if(r){var n=r.n,s=r.p;delete i._i[r.i],r.r=!0,s&&(s.n=n),n&&(n.p=s),i._f==r&&(i._f=n),i._l==r&&(i._l=s),i[m]--}return!!r},forEach:function(t){f(this,e);var i,r=a(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){r(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!h(f(this,e),t)}}),d&&r(u.prototype,"size",{get:function(){return f(this,e)[m]}}),u},def:function(t,e,i){var r,n,s=h(t,e);return s?s.v=i:(t._l=s={i:n=p(e,!0),k:e,v:i,p:r=t._l,n:void 0,r:!1},t._f||(t._f=s),r&&(r.n=s),t[m]++,"F"!==n&&(t._i[n]=s)),t},getEntry:h,setStrong:function(t,e,i){l(t,e,function(t,i){this._t=f(t,e),this._k=i,this._l=void 0},function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?u(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,u(1))},i?"entries":"values",!i,!0),_(e)}}},e0b8:function(t,e,i){"use strict";var r=i("7726"),n=i("5ca1"),s=i("2aba"),a=i("dcbc"),o=i("67ab"),c=i("4a59"),l=i("f605"),u=i("d3f4"),_=i("79e5"),d=i("5cc5"),p=i("7f20"),f=i("5dbc");t.exports=function(t,e,i,m,h,b){var v=r[t],k=v,g=h?"set":"add",w=k&&k.prototype,x={},y=function(t){var e=w[t];s(w,t,"delete"==t?function(t){return!(b&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof k&&(b||w.forEach&&!_(function(){(new k).entries().next()}))){var O=new k,q=O[g](b?{}:-0,1)!=O,j=_(function(){O.has(1)}),P=d(function(t){new k(t)}),E=!b&&_(function(){var t=new k,e=5;while(e--)t[g](e,e);return!t.has(-0)});P||(k=e(function(e,i){l(e,k,t);var r=f(new v,e,k);return void 0!=i&&c(i,h,r[g],r),r}),k.prototype=w,w.constructor=k),(j||E)&&(y("delete"),y("has"),h&&y("get")),(E||q)&&y(g),b&&w.clear&&delete w.clear}else k=m.getConstructor(e,t,h,g),a(k.prototype,i),o.NEED=!0;return p(k,t),x[t]=k,n(n.G+n.W+n.F*(k!=v),x),b||m.setStrong(k,t,h),k}}}]);