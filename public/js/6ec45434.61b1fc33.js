(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6ec45434"],{"2a26":function(t,i,e){"use strict";e.r(i);var r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("q-page",{attrs:{padding:""}},[e("q-breadcrumbs",{scopedSlots:t._u([{key:"separator",fn:function(t){return e("q-icon",{attrs:{name:"fas fa-chevron-right",size:"1rem"}})}}])},[e("q-breadcrumbs-el",[e("q-btn",{attrs:{flat:"",icon:"fas fa-music"},on:{click:t.go_home}})],1),t.is_artist_selected?e("q-breadcrumbs-el",[e("q-btn",{attrs:{label:t.current_artist.name,icon:"fas fa-user-circle",flat:"","no-caps":""},on:{click:function(i){return t.select_artist(t.current_artist)}}})],1):t._e(),t.is_album_selected?e("q-breadcrumbs-el",[e("q-btn",{attrs:{icon:"fas fa-dot-circle",label:t.current_album.title,flat:"","no-caps":""}})],1):t._e()],1),e("q-list",{attrs:{separator:""}},[t.is_album_selected?t._l(t.current_album.tracks,function(i){return e("q-item",{key:i.id},[e("q-item-section",{attrs:{side:""}},[t._v(t._s(i.number))]),e("q-item-label",{staticClass:"library-item-main clickable",nativeOn:{click:function(e){return t.select_track(i)}}},[t._v("\n          "+t._s(i.title)+"\n        ")]),e("q-item-section",{attrs:{side:"",right:""}},[e("library-item-actions",{attrs:{item:i},on:{add_item_to_current_export_list:t.add_track_to_current_export_list,add_item_to_tracklist:t.add_track_to_tracklist}})],1)],1)}):t.is_artist_selected?t._l(t.current_artist.albums,function(i){return e("q-item",{key:i.id},[e("q-item-section",{attrs:{avatar:""}},[e("q-avatar",[e("img",{attrs:{src:i.cover_thumb_url,alt:"album cover"}})])],1),e("q-item-label",{staticClass:"library-item-main clickable",nativeOn:{click:function(e){return t.select_album(i)}}},[t._v("\n          "+t._s(t._f("album_label")(i))+"\n        ")]),e("q-item-section",{attrs:{side:"",right:""}},[e("library-item-actions",{attrs:{item:i},on:{add_item_to_current_export_list:t.add_album_to_current_export_list,add_item_to_tracklist:t.add_album_to_tracklist}})],1)],1)}):t._l(t.artists,function(i){return e("q-item",{key:i.id},[e("q-item-section",{attrs:{avatar:""}},[e("q-avatar",[e("img",{attrs:{src:i.image_thumb_url,alt:"artist image"}})])],1),e("q-item-label",{staticClass:"library-item-main clickable",nativeOn:{click:function(e){return t.select_artist(i)}}},[t._v("\n          "+t._s(i.name)+"\n        ")]),e("q-item-section",{attrs:{side:"",right:""}},[e("library-item-actions",{attrs:{item:i},on:{add_item_to_current_export_list:t.add_artist_to_current_export_list,add_item_to_tracklist:t.add_artist_to_tracklist}})],1)],1)})],2)],1)},s=[],a=e("02fa"),n=e.n(a),c=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("span",[e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fas fa-ellipsis-v"},on:{click:function(i){t.showing_menu=!t.showing_menu}}}),e("span",[e("q-menu",{model:{value:t.showing_menu,callback:function(i){t.showing_menu=i},expression:"showing_menu"}},[e("q-list",[e("q-item",{nativeOn:{click:function(i){return t.show_tracklists(i)}}},[t._v("Move to Tracklist...")]),e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],nativeOn:{click:function(i){return t.add_item_to_current_export_list(i)}}},[t._v("Export")])],1)],1),e("q-menu",{model:{value:t.choosing_tracklist,callback:function(i){t.choosing_tracklist=i},expression:"choosing_tracklist"}},[e("q-list",t._l(t.tracklists,function(i){return e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:i.id,nativeOn:{click:function(e){return t.add_item_to_tracklist(i)}}},[t._v("\n          "+t._s(i.name)+"\n        ")])}),1)],1)],1)],1)},_=[],l=e("2f62"),o={name:"LibraryItemActions",props:["item"],data:function(){return{choosing_tracklist:!1,showing_menu:!1}},computed:n()({},Object(l["e"])({tracklists:function(t){return t.tracklists.tracklists}})),methods:{add_item_to_current_export_list:function(){this.$emit("add_item_to_current_export_list",this.item)},add_item_to_tracklist:function(t){this.$emit("add_item_to_tracklist",this.item,t),this.choosing_tracklist=!1},show_tracklists:function(){this.choosing_tracklist=!0,this.showing_menu=!1}}},u=o,d=e("2877"),m=Object(d["a"])(u,c,_,!1,null,"4328dd2e",null),f=m.exports,k=e("2a19"),b={name:"LibraryPage",components:{LibraryItemActions:f},data:function(){return{artists:[],current_artist:null,current_album:null}},computed:n()({},Object(l["e"])({tracklists:function(t){return t.tracklists.tracklists},export_lists:function(t){return t.export_lists.export_lists},current_export_list:function(t){return t.export_lists.current}}),{is_artist_selected:function(){return null!==this.current_artist},is_album_selected:function(){return null!==this.current_album}}),methods:n()({},Object(l["b"])(["fetch_artists","fetch_albums","fetch_tracks","fetch_export_lists","fetch_tracklists","add_tracks_to_export_list","add_tracks_to_tracklist"]),{go_home:function(){this.current_artist=null,this.current_album=null},select_artist:function(t){var i=this;this.fetch_albums({artist_id:t.id}).then(function(e){i.current_artist=t,i.current_artist.albums=e,i.current_album=null})},select_album:function(t){var i=this;this.fetch_tracks({album_id:t.id}).then(function(e){i.current_album=t,i.current_album.tracks=e})},select_track:function(t){console.log("Track ".concat(t," selected"))},add_to_current_export_list:function(t){this.current_export_list.id?this.add_tracks_to_export_list(t):k["a"].create({message:"Export List not selected!",type:"warning",timeout:3e3})},add_artist_to_current_export_list:function(t){this.add_to_current_export_list({artist_id:t.id})},add_album_to_current_export_list:function(t){this.add_to_current_export_list({album_id:t.id})},add_track_to_current_export_list:function(t){this.add_to_current_export_list({track_id:t.id})},add_artist_to_tracklist:function(t,i){this.add_tracks_to_tracklist({tracklist_id:i.id,artist_id:t.id})},add_album_to_tracklist:function(t,i){this.add_tracks_to_tracklist({tracklist_id:i.id,album_id:t.id})},add_track_to_tracklist:function(t,i){this.add_tracks_to_tracklist({tracklist_id:i.id,track_id:t.id})}}),filters:{album_label:function(t){return t.year?[t.year,t.title].join(" - "):t.title}},created:function(){var t=this;this.fetch_artists().then(function(i){t.artists=i}),this.fetch_tracklists(),this.fetch_export_lists()}},h=b,p=(e("566c"),Object(d["a"])(h,r,s,!1,null,null,null));i["default"]=p.exports},"566c":function(t,i,e){"use strict";var r=e("c805"),s=e.n(r);s.a},c805:function(t,i,e){}}]);