(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4a5d5970"],{"24ba":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-header",{attrs:{elevated:"",reveal:""}},[r("q-toolbar",[r("home-button"),r("q-btn",{attrs:{to:{name:"library"},size:"lg",flat:"","no-caps":"",dense:""}},[t._v("Library")]),r("q-space"),r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"search"}})],1)],1),r("q-drawer",{attrs:{side:"right","content-class":"bg-grey-2",overlay:"",elevated:""},model:{value:t.is_drawer_open,callback:function(e){t.is_drawer_open=e},expression:"is_drawer_open"}},[r("current-export-list")],1),r("q-page-container",[r("router-view")],1),r("q-footer",{attrs:{elevated:"",reveal:""}},[r("q-toolbar",[r("q-btn",{attrs:{flat:"",icon:"fas fa-caret-up"}},[r("q-menu",{attrs:{"auto-close":""}},[r("q-list",[r("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},nativeOn:{click:function(e){return t.unset_export_list(e)}}},[t._v("-")]),t._l(t.export_lists,function(e){return r("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.id,attrs:{clickable:""},nativeOn:{click:function(r){return t.select_export_list(e)}}},[r("q-item-section",[r("q-item-label",[t._v(t._s(e.name))]),r("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.size+" / "+e.capacity))])],1)],1)})],2)],1)],1),t.current_export_list.name?[r("q-toolbar-title",[r("span",[t._v(t._s(t.current_export_list.name))]),r("q-linear-progress",{attrs:{percentage:t.current_export_list.fullness}})],1),r("q-btn",{attrs:{icon:"fas fa-bars",flat:""},on:{click:t.toggle_export_list}})]:t._e()],2)],1)],1)},s=[],o=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("c47a")),i=r.n(o),c=r("e1c9"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-list",{attrs:{"inset-delimiter":""}},t._l(t.export_lists,function(e){return r("q-item",{key:e.id,nativeOn:{click:function(r){return t.select_export_list(e)}}},[r("q-item-section",[r("q-item-label",[t._v(t._s(e.name))])],1)],1)}),1)},l=[],p=r("2f62");function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(r,!0).forEach(function(e){i()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var f={name:"ExportLists",data:function(){return{}},computed:Object(p["e"])({export_lists:function(t){return t.export_lists.export_lists},current_export_list:function(t){return t.export_lists.current}}),methods:u({},Object(p["b"])(["fetch_export_list","remove_track_from_export_list","clear_export_list","export_tracks"]),{},Object(p["d"])(["set_current_export_list","reset_current_export_list"]),{select_export_list:function(t){var e=this;this.fetch_export_list(t.id).then(function(t){return e.set_current_export_list(t)})},close_export_list:function(){this.reset_current_export_list()},remove_track:function(t){this.remove_track_from_export_list(t.id)}})},b=f,x=r("2877"),m=Object(x["a"])(b,a,l,!1,null,null,null),d=m.exports,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-card",{attrs:{flat:""}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v(t._s(t.export_list.name))]),r("div",{staticClass:"text-subtitle1"},[t._v(t._s(t.export_list.size)+" / "+t._s(t.export_list.capacity))]),r("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.export_list.destination_path))])]),r("q-card-actions",{attrs:{align:"around"}},[r("q-btn",{attrs:{label:"Clear",icon:"fas fa-trash",color:"negative",outline:""},on:{click:t.clear_export_list}}),r("q-btn",{attrs:{label:"Export",icon:"fas fa-upload",color:"primary",loading:t.is_exporting},on:{click:t.perform_export}},[r("span",{attrs:{slot:"loading"},slot:"loading"},[r("q-spinner"),t._v("\n        Exporting...\n      ")],1)])],1),r("q-separator"),r("q-list",t._l(t.export_list.tracks,function(e){return r("q-item",{key:e.id},[r("q-item-section",[r("q-item-label",[t._v(t._s(e.title))]),r("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.artist_name))])],1),r("q-item-section",{attrs:{side:"",right:""}},[r("q-btn",{attrs:{icon:"fas fa-minus",color:"negative",flat:"",dense:""},on:{click:function(r){return t.remove_track(e)}}}),r("q-item-label",{attrs:{stamp:""}},[t._v(t._s(e.size))])],1)],1)}),1)],1)},h=[],O=r("967e"),y=r.n(O),g=(r("96cf"),r("fa84")),q=r.n(g);function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(r,!0).forEach(function(e){i()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var k={name:"CurrentExportList",data:function(){return{is_exporting:!1}},computed:Object(p["e"])({export_list:function(t){return t.export_lists.current}}),methods:w({},Object(p["b"])(["remove_track_from_export_list","clear_export_list","export_tracks"]),{perform_export:function(){var t=q()(y.a.mark(function t(){return y.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.is_exporting=!0,t.next=3,this.export_tracks();case 3:this.is_exporting=!1;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()})},P=k,E=Object(x["a"])(P,v,h,!1,null,null,null),D=E.exports;function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(r,!0).forEach(function(e){i()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var C={name:"LibraryLayout",components:{HomeButton:c["a"],ExportLists:d,CurrentExportList:D},data:function(){return{is_drawer_open:this.$q.platform.is.desktop}},created:function(){this.$store.dispatch("fetch_export_lists"),this.$store.dispatch("fetch_tracklists")},computed:$({},Object(p["e"])({export_lists:function(t){return t.export_lists.export_lists},current_export_list:function(t){return t.export_lists.current}})),methods:$({},Object(p["b"])(["fetch_export_list"]),{},Object(p["d"])(["set_current_export_list","reset_current_export_list"]),{select_export_list:function(t){var e=this;this.fetch_export_list(t.id).then(function(t){return e.set_current_export_list(t)})},toggle_export_list:function(){this.is_drawer_open=!this.is_drawer_open},unset_export_list:function(){this.reset_current_export_list(),this.is_drawer_open=!1}})},S=C,z=Object(x["a"])(S,n,s,!1,null,null,null);e["default"]=z.exports},e1c9:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-btn",{attrs:{to:{name:"home"},icon:"fas fa-music",flat:""}})},s=[],o={name:"HomeButton"},i=o,c=r("2877"),a=Object(c["a"])(i,n,s,!1,null,null,null);e["a"]=a.exports}}]);