(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dfc65b68"],{"504c":function(t,e,n){var o=n("9e1e"),a=n("0d58"),r=n("6821"),s=n("52a7").f;t.exports=function(t){return function(e){var n,i=r(e),l=a(i),c=l.length,u=0,d=[];while(c>u)n=l[u++],o&&!s.call(i,n)||d.push(t?[n,i[n]]:i[n]);return d}}},5181:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{attrs:{padding:""}},[n("q-list",t._l(t.notes,function(e){return n("q-expansion-item",{key:e.id,attrs:{group:"notes",label:t.label(e),caption:t.caption(e),"expand-icon":"fas fa-angle-down",popup:""}},[n("note-card",{attrs:{note:e}})],1)}),1)],1)},a=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{attrs:{flat:""}},[t.note.details?n("q-card-section",[t._v("\n      "+t._s(t.note.details)+"\n    ")]):t._e(),n("q-separator"),n("q-card-actions",{attrs:{align:"around"}},[n("q-btn-dropdown",{attrs:{icon:"fas fa-search",color:"info","auto-close":"",flat:""}},[n("q-list",[t._l(Object.keys(t.search_sources),function(e){return[n("q-item",{key:e,attrs:{clickable:""},on:{click:function(n){return t.search_album(e)}}},[n("q-item-section",[n("q-item-label",[t._v(t._s(e))])],1)],1)]})],2)],1),n("q-btn",{attrs:{icon:"far fa-copy",color:"secondary",flat:""},on:{click:function(e){return t.copy_label()}}}),n("q-btn",{attrs:{icon:"fas fa-edit",color:"secondary",flat:""},on:{click:function(e){return t.edit_note(t.note)}}}),n("q-btn",{attrs:{icon:t.next_kind.icon,color:t.next_kind.color,flat:""},on:{click:function(e){return t.advance_note(t.note)}}}),n("q-btn",{attrs:{icon:"fas fa-trash",color:"negative",flat:""},on:{click:function(e){return t.delete_note(t.note)}}})],1)],1)},s=[],i=(n("f751"),n("02fa")),l=n.n(i),c=n("bea4"),u=n("2f62");function d(t){return t.album?[t.artist,t.album].join(" - "):t.artist}var f={name:"NoteCard",props:{note:{type:Object,default:function(){return{}}}},data:function(){return{search_sources:{Deezer:"https://www.deezer.com/search/","Youtube Music":"https://music.youtube.com/search?q=",Youtube:"https://www.youtube.com/results?search_query=",Google:"https://www.google.com/search?q=","Google Music":"https://play.google.com/music/listen#/sr/","Google Play":"https://play.google.com/store/search?c=music&q=",RuTracker:"https://rutracker.org/forum/tracker.php?nm=",RuTor:"http://open-ru.top/search//0/2/000/0/",Yandex:"https://yandex.ru/search/?text="}}},computed:{next_kind:function(){return this.$store.getters.next_kind_for(this.note.kind)}},methods:l()({},Object(u["b"])(["update_note","advance_note","delete_note"]),{copy_label:function(){var t=this;navigator.clipboard.writeText(d(this.note)).then(function(){t.$q.notify({message:"Copied",color:"positive",timeout:1e3})})},search_album:function(t){var e=[this.note.artist,this.note.album].join(" "),n=encodeURI(this.search_sources[t]+e);window.open(n)},edit_note:function(){this.$q.dialog({component:c["a"],root:this.$root,note:Object.assign({},this.note)})}})},p=f,_=n("2877"),h=Object(_["a"])(p,r,s,!1,null,null,null),b=h.exports,m={name:"NotesPage",props:["kind"],components:{NoteCard:b},created:function(){this.fetch_notes()},watch:{$route:"fetch_notes"},computed:{notes:function(){return this.$store.state.notes.notes}},methods:{fetch_notes:function(){this.$store.dispatch("fetch_notes",{kind:this.kind})},label:function(t){return d(t)},caption:function(t){return"await"===t.kind?t.release_date.toLocaleDateString("ru-RU"):""}}},k=m,w=Object(_["a"])(k,o,a,!1,null,null,null);e["default"]=w.exports},bea4:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"note_form",on:{hide:t.cancel}},[n("q-card",{staticClass:"q-dialog-plugin"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit_form(e)}}},[n("q-card-section",[n("q-btn-toggle",{attrs:{options:t.kind_options,flat:""},model:{value:t.note.kind,callback:function(e){t.$set(t.note,"kind",e)},expression:"note.kind"}}),n("q-input",{attrs:{label:"Artist",type:"text",autofocus:"",clearable:""},model:{value:t.note.artist,callback:function(e){t.$set(t.note,"artist",e)},expression:"note.artist"}}),n("q-input",{attrs:{label:"Album",type:"text",clearable:""},model:{value:t.note.album,callback:function(e){t.$set(t.note,"album",e)},expression:"note.album"}}),t.is_download_url_visible?n("q-input",{attrs:{label:"Download URL",type:"url",clearable:""},model:{value:t.note.download_url,callback:function(e){t.$set(t.note,"download_url",e)},expression:"note.download_url"}}):t._e(),t.is_download_path_visible?n("q-input",{attrs:{label:"Download path",type:"text",clearable:""},model:{value:t.note.download_path,callback:function(e){t.$set(t.note,"download_path",e)},expression:"note.download_path"}}):t._e(),t.is_release_date_visible?n("q-field",{attrs:{label:"Release date","stack-label":""},scopedSlots:t._u([{key:"control",fn:function(){return[n("div",{staticClass:"self-center full-width no-outline",attrs:{tabindex:"0"}},[t._v(t._s(t.release_date_preview))])]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fas fa-calendar"}},[n("q-popup-proxy",{ref:"date_picker_popup"},[n("q-date",{attrs:{value:t.release_date_for_picker,"first-day-of-week":1,label:"Release date","today-btn":""},on:{input:t.set_release_date}})],1)],1)]},proxy:!0}],null,!1,2062756856)}):t._e(),n("q-input",{attrs:{label:"Details",type:"textarea",rows:"3",clearable:""},model:{value:t.note.details,callback:function(e){t.$set(t.note,"details",e)},expression:"note.details"}})],1),n("q-separator"),n("q-card-actions",{attrs:{align:"around"}},[n("q-btn",{staticClass:"col-5",attrs:{label:"Cancel"},on:{click:t.cancel}}),n("q-btn",{staticClass:"col-5",attrs:{type:"submit",label:"Save",color:"primary",loading:t.submitting},scopedSlots:t._u([{key:"loading",fn:function(){return[n("q-spinner-bars")]},proxy:!0}])})],1)],1)])],1)},a=[],r=(n("ac6a"),n("cadf"),n("06db"),n("ffc1"),n("bd4c")),s={name:"NoteForm",props:{note:{type:Object,default:function(){return{kind:"listen",release_date:new Date}}}},data:function(){return{submitting:!1}},computed:{kind_options:function(){return Object.entries(this.$store.state.notes.note_kinds).map(function(t){return{icon:t[1].icon,value:t[0]}})},is_download_url_visible:function(){return"download"===this.note.kind},is_download_path_visible:function(){return"download"===this.note.kind},is_release_date_visible:function(){return"await"===this.note.kind},release_date_preview:function(){return void 0===this.note.release_date?null:this.note.release_date.toLocaleDateString("ru-RU")},release_date_for_picker:function(){return r["b"].formatDate(this.note.release_date,"YYYY/MM/DD")}},methods:{show:function(){this.$refs.note_form.show()},hide:function(){this.$refs.note_form.hide()},set_release_date:function(t){this.note.release_date=new Date(t),this.$refs.date_picker_popup.hide()},submit_form:function(){void 0===this.note.id?this.$store.dispatch("create_note",this.note):this.$store.dispatch("update_note",this.note),this.$emit("ok"),this.hide()},cancel:function(){this.hide()}}},i=s,l=n("2877"),c=Object(l["a"])(i,o,a,!1,null,null,null);e["a"]=c.exports},ffc1:function(t,e,n){var o=n("5ca1"),a=n("504c")(!0);o(o.S,"Object",{entries:function(t){return a(t)}})}}]);